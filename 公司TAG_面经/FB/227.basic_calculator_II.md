


```java
public‌ ‌int‌ ‌calculate(String‌ ‌s)‌ ‌{‌ ‌
    //‌ ‌sanity‌ ‌check‌ ‌
    Deque<Integer>‌ ‌stack‌ ‌=‌ ‌new‌ ‌ArrayDeque<>();‌ ‌
    ‌char‌ ‌sign‌ ‌=‌ ‌‘+’;‌‌  ‌//‌ ‌等‌于‌向‌后‌多‌看‌一‌眼‌ ‌
    ‌
    for‌ ‌(int‌ ‌i‌ ‌=‌ ‌0;‌ ‌i‌ ‌<‌ ‌s.length();‌ ‌i++)‌ ‌{‌ ‌
        char‌ ‌c‌ ‌=‌ ‌s.charAt(i);‌ ‌
        if‌ ‌(c‌ ‌==‌ ‌‘‌ ‌‘)‌ ‌continue;‌ ‌
        if‌ ‌(Character.isDigit(c))‌ ‌{‌ ‌
            int‌ ‌num‌ ‌=‌ ‌0;‌ ‌//‌ ‌c‌ ‌-‌ ‌‘0’,‌ ‌s.charAt(i‌ ‌+‌ ‌1)‌ ‌
            while‌ ‌(i‌ ‌<‌ ‌s.length()‌ ‌&&‌ ‌Character.isDigit(s.charAt(i)))‌ ‌{‌ ‌
                num‌ ‌=‌ ‌num‌ ‌*‌ ‌10‌ ‌+‌ ‌s.charAt(i)‌ ‌-‌ ‌‘0’;‌ ‌
                i++;‌ ‌
            }‌  ‌//‌ ‌11+‌ ‌12‌ ‌(i‌ ‌=‌ ‌2->3,‌ ‌‘+‘)‌ ‌
            ‌i--;‌ ‌
            ‌if‌ ‌(sign‌ ‌==‌ ‌‘+’)‌ ‌{‌ ‌
                //‌ ‌‌+‌1‌ ‌+‌ ‌3‌ ‌*‌ ‌4‌ ‌‌+‌‌ ‌6‌ ‌
                stack.push(num);‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(sign‌ ‌==‌ ‌‘-’)‌ ‌{‌ ‌
                //‌ ‌+1‌ ‌‌-‌‌ ‌3‌ ‌*‌ ‌4‌ ‌‌+‌‌ ‌6‌ ‌
                stack.push(-num);‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(‌sign‌‌ ‌==‌ ‌‘*’)‌ ‌{‌  ‌//‌ ‌1‌ ‌+‌ ‌3‌ ‌‌*‌‌ ‌‌4‌‌ ‌*5‌ ‌ ‌
                stack.push(stack.pop()‌ ‌*‌ ‌num);‌  ‌//‌ ‌stack.pop()‌ ‌=‌ ‌3,‌ ‌num‌ ‌=‌ ‌4‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(‌sign‌‌ ‌==‌ ‌‘/’)‌ ‌{‌ ‌
                stack.push(stack.pop()‌ ‌/‌ ‌num);‌ ‌
            }‌ ‌
        }‌ ‌else‌ ‌{‌ ‌
            sign‌ ‌=‌ ‌c;‌ ‌
        }‌ ‌
    }‌ ‌
    ‌
    int‌ ‌res‌ ‌=‌ ‌0;‌ ‌
    while‌ ‌(!stack.isEmpty())‌ ‌{‌ ‌
       res‌ ‌+=‌ ‌stack.pop();‌
    ‌
    }‌ ‌
    return‌ ‌res;‌ ‌
}‌ ‌



public‌ ‌int‌ ‌calculate(String‌ ‌s)‌ ‌{‌ ‌
    //‌ ‌check‌ ‌
    int‌ ‌res‌ ‌=‌ ‌0,‌ ‌prev‌ ‌=‌ ‌0;‌ ‌
    char‌ ‌sign‌ ‌=‌ ‌‘+’;‌ ‌
    for‌ ‌(int‌ ‌i‌ ‌=‌ ‌0;‌ ‌i‌ ‌<‌ ‌s.length();‌ ‌i++)‌ ‌{‌ ‌
        char‌ ‌c‌ ‌=‌ ‌s.charAt(i);‌ ‌
        if‌ ‌(c‌ ‌==‌ ‌‘‌ ‌‘)‌ ‌continue;‌ ‌
        if‌ ‌(Character.isDigit(c))‌ ‌{‌ ‌
            int‌ ‌num‌ ‌=‌ ‌0;‌ ‌//‌ ‌c‌ ‌-‌ ‌‘0’,‌ ‌s.charAt(i‌ ‌+‌ ‌1)‌ ‌
            while‌ ‌(i‌ ‌<‌ ‌s.length()‌ ‌&&‌ ‌Character.isDigit(s.charAt(i)))‌ ‌{‌ ‌
               num‌ ‌=‌ ‌num‌ ‌*‌ ‌10‌ ‌+‌ ‌s.charAt(i)‌ ‌-‌ ‌‘0’;‌ ‌
               i++;‌ ‌
            }‌  ‌//‌ ‌11+‌ ‌12‌ ‌(i‌ ‌=‌ ‌2->3,‌ ‌‘+‘)‌ ‌
            ‌i--;‌ ‌
        ‌    if‌ ‌(sign‌ ‌==‌ ‌‘+’)‌ ‌{‌ ‌
                res‌ ‌+=‌ ‌num;‌ ‌
                prev‌ ‌=‌ ‌num;‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(sign‌ ‌==‌ ‌‘-’)‌ ‌{‌ ‌
                res‌ ‌+=‌ ‌(-num);‌ ‌
                prev‌ ‌=‌ ‌-num;‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(sign‌ ‌==‌ ‌‘*’)‌ ‌{‌ ‌
                res‌ ‌=‌ ‌res‌ ‌-‌ ‌prev‌ ‌+‌ ‌prev‌ ‌*‌ ‌num;‌ ‌
                prev‌ ‌=‌ ‌prev‌ ‌*‌ ‌num;‌ ‌
            }‌ ‌else‌ ‌if‌ ‌(sign‌ ‌==‌ ‌‘/’)‌ ‌{‌ ‌
                res‌ ‌=‌ ‌res‌ ‌-‌ ‌prev‌ ‌+‌ ‌prev‌ ‌/‌ ‌num;‌ ‌
                prev‌ ‌=‌ ‌prev‌ ‌/‌ ‌num;‌ ‌
            }‌ ‌
            }‌ ‌else‌ ‌{‌ ‌
                sign‌ ‌=‌ ‌c;‌ ‌
         }‌ ‌
    }‌ ‌
    ‌
    return‌ ‌res;‌ ‌
}‌ ‌


```