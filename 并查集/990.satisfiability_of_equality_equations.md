所有相等的元素放到一个集合里，如果a == q, 那么a和q所属的集合可以合并

然后看所有不等的元素，如果两个不等的元素在同一个集合里一定



```java
class Solution {
    // 存储所有元素的分组信息
    int[] p;
    public boolean equationsPossible(String[] equations) {
        p = new int[26];
      //assume一共26个小写字母，每个字母的group信息初始设置为自己
     for (int i = 0; i <26; i++) p[i] = i;
     //枚举所有相等关系   
     for (String e :equations) {
         char[] arr = e.toCharArray();
         int a = arr[0] - 'a', b = arr[3] - 'a';
         if (arr[1] == '=') p[find(a)] = find(b);
     }   
     //枚举所有不等关系 
     for (String e :equations) {
         char[] arr = e.toCharArray();
       
         int a = arr[0] - 'a', b = arr[3] - 'a';
         if (arr[1] == '!') {
             if (find(a) == find(b)) return false;
         }
     }
     return true;   
    }
    private int find(int x) {  // quick find
        if (p[x] != x) p[x] = find(p[x]);
        return p[x];
    }
   
}
```
